<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PC</title>
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<style>
body { margin:0; font-family:sans-serif; background:#171a21; color:#fff; display:flex; justify-content:center; align-items:center; height:100vh;}
.container { width:350px; }
h1 { text-align:center; color:#5c9dc9; font-size:1.2rem; margin-bottom:1rem;}
.section { background:rgba(27,40,56,0.9); border-radius:8px; margin-bottom:0.75rem; padding:0.5rem 0.6rem;}
.section h2 { color:#5c9dc9; font-size:0.9rem; margin-bottom:0.4rem;}
.spec { display:flex; justify-content:space-between; font-size:0.7rem; margin-bottom:2px;}
.visualizer { width:100%; height:75px; background:rgba(27,40,56,0.7); border-radius:8px; display:flex; align-items:flex-end; padding:2px; margin-bottom:1rem;}
.bar { width:2px; margin:0 0.5px; background:#5c9dc9; border-radius:1px; transition:height 0.05s linear;}
#startOverlay {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1rem;cursor:pointer;z-index:1000;}
</style>
</head>
<body>
<div id="root"></div>
<div id="startOverlay">Click Anywhere to Start Music</div>
<script type="text/babel">

const Section = ({title, specs}) => (
  <div className="section">
    <h2>{title}</h2>
    {specs.map(([k,v],i)=><div key={i} className="spec"><span>{k}</span><span>{v}</span></div>)}
  </div>
);

const AudioVisualizer = ({audio}) => {
  const containerRef = React.useRef(null);

  React.useEffect(() => {
    if(!audio) return;
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const analyser = ctx.createAnalyser();
    const source = ctx.createMediaElementSource(audio);
    source.connect(analyser);
    analyser.connect(ctx.destination);
    analyser.fftSize = 64;
    const bufferLength = analyser.frequencyBinCount;
    const dataArray = new Uint8Array(bufferLength);

    const container = containerRef.current;
    container.innerHTML = "";
    const bars = [];
    for(let i=0;i<bufferLength;i++){
      const bar = document.createElement("div");
      bar.className="bar";
      container.appendChild(bar);
      bars.push(bar);
    }

    function animate(){
      requestAnimationFrame(animate);
      analyser.getByteFrequencyData(dataArray);
      for(let i=0;i<bufferLength;i++){
        bars[i].style.height = (dataArray[i]/2)+"px";
      }
    }
    animate();

    // Resume context on click
    ctx.resume();

  }, [audio]);

  return <div className="visualizer" ref={containerRef}></div>;
};

const App = () => {
  const [started,setStarted] = React.useState(false);
  const [audio,setAudio] = React.useState(null);

  const start = () => {
    const a = new Audio("/music/music.mp3");
    a.loop = true;
    a.play();
    setAudio(a);
    setStarted(true);
    document.getElementById("startOverlay").style.display="none";
  };

  return (
    <div className="container">
      <h1>ðŸ’» My PC</h1>
      {started && audio && <AudioVisualizer audio={audio} />}
      <Section title="CPU" specs={[["Name","AMD Ryzen 5 3600"],["Frequency","3.85 GHz"],["Temp","84Â°C"]]} />
      <Section title="RAM" specs={[["16GB DDR4","Dual Channel"]]} />
      <Section title="GPU" specs={[["AMD RX 6600","8GB VRAM"]]} />
    </div>
  );
};

document.getElementById("startOverlay").onclick = ()=>{
  ReactDOM.createRoot(document.getElementById("root")).render(<App />);
};

</script>
</body>
</html>
